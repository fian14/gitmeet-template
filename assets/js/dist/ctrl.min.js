/*!
 *	@author      Uday Hiwarale <uday hiwarale@gmail.com>
 *	@profile     https://github.com/thatisuday
 *	@link        http://gitmeet.com
 * 	@version     1.0.1
 * 	@license     MIT License, http://www.opensource.org/licenses/MIT
**/
angular.module("gitmeet").controller("admin-add-post",["$scope","$http","$state","$location","$timeout",function(t,a,o,e,n){t.postData={content:"#Hello World!"},n(function(){$(".stater-admin-add-post .menu .item").tab()}),t.savePost=function(){var o=window.localStorage.getItem("authToken");return o?void a({url:"/api/admin/post",method:"POST",data:t.postData,headers:{authToken:o}}).then(function(t){return 201==t.status?e.url("/post/"+t.data.postId):alert(t.data)},function(t){alert(t.data)}):alert("You are not signed in.")}}]),angular.module("gitmeet").controller("admin-edit-post",["_postData","$scope","$http","$state","$location","$timeout",function(t,a,o,e,n,s){a.postData=t,a.isEdit=!0,s(function(){$(".stater-admin-edit-post .menu .item").tab()}),a.savePost=function(){var e=window.localStorage.getItem("authToken");return e?void o({url:"/api/admin/post/"+t.postId,method:"PUT",data:a.postData,headers:{authToken:e}}).then(function(t){n.url("/post/"+t.data.postId)},function(t){console.log(t.data),alert(t.data)}):alert("You are not signed in.")},a.deletePost=function(){if(!confirm("are you sure????"))return!1;var a=window.localStorage.getItem("authToken");return a?void o({url:"/api/admin/post/"+t.postId,method:"Delete",headers:{authToken:a}}).then(function(t){n.url("/")},function(t){console.log(t.data),alert(t.data)}):alert("You are not signed in.")}}]),angular.module("gitmeet").controller("admin-signin",["$scope","$http","$state","$timeout",function(t,a,o,e){t.signinData={},t.signin=function(){a({url:"/api/admin/signin",method:"POST",data:t.signinData}).then(function(t){window.localStorage.setItem("authToken",t.data),e(function(){o.go("admin-add-post")},1e3)},function(t){return 500==t.status?alert(t.data):401==t.status?alert("username not valid."):403==t.status?alert("password not valid."):406==t.status?alert("no data received."):void 0})}}]),angular.module("gitmeet").controller("home",["$scope","$location",function(t,a){t.openSearch=function(){var t=prompt("What do you want to search?","type here...");a.url("/search/"+t)}}]),angular.module("gitmeet").controller("post",["_postData","$scope","$http",function(t,a,o){a.postData=t,a.similarPosts=[],o({url:"/api/posts",method:"GET",params:{nPostId:t.postId,tags:t.tags,limit:6}}).then(function(t){a.similarPosts=t.data})}]),angular.module("gitmeet").controller("posts",["$scope","$http","$stateParams",function(t,a,o){t.posts=[],t.postLoaded=!1,t.params={skip:0,limit:10},_.has(o,"category")&&(t.params.category=o.category),_.has(o,"tag")&&(t.params.tags=o.tag),_.has(o,"search")&&(t.params.search=o.search),(t.loadPosts=function(o){o&&(t.params.skip=t.params.skip+t.params.limit),a({url:"/api/posts",method:"GET",params:t.params}).then(function(a){t.posts=_.concat(t.posts,a.data),t.postLoaded=!0})})(!1)}]);
//# sourceMappingURL=ctrl.min.js.map
